/*
 * Form Input Types - https://developer.mozilla.org/en-US/docs/Learn/Forms/HTML5_input_types
 * Form Validation - https://developer.mozilla.org/en-US/docs/Learn/Forms/Form_validation
 * Web Aim Creating Accessible Forms - https://webaim.org/techniques/forms/controls
 * Styling Web Forms - https://developer.mozilla.org/en-US/docs/Learn/Forms/Styling_web_forms
 * Advanced Form Styling - https://developer.mozilla.org/en-US/docs/Learn/Forms/Advanced_form_stylin
 *
 * Web Form Usability (Top 10 Practices) - https://www.nngroup.com/articles/web-form-design
 * A Form of Madness - http://diveintohtml5.info/forms.html */

:root {
  --flex-direction: column
}

/*
  - Viewport Sizes - https://docs.adobe.com/content/help/en/target/using/experiences/vec/mobile-viewports.html
*/
@media screen and (min-width: 786px) {
  :root {
    --flex-direction: row
  }
}

/* accessible placeholders & labels - https://www.nngroup.com/articles/form-design-placeholders/ */
::placeholder {
  opacity: 22%;
  color: currentColor
} /* 4.5:1 contrast ratio for ARIA */
label {
  cursor: pointer;
  display: inline-block
}

/* Remove tapping delay
 *   https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action
 */
a, area, button, input, label, select, summary, textarea, [tabindex] {
  -ms-touch-action: manipulation;
  touch-action:     manipulation
}


/* Form proximity effect
 *   - https://www.nngroup.com/articles/form-design-white-space/?lm=form-design-placeholders&pt=article */
form, fieldset /* children positioning */
  { position: relative }
form {
  display: flex;
  flex-direction: var(--flex-direction)
}
form:focus-within {}

form
  fieldset:focus-within {}

fieldset {
  min-width: 0; /* See https://github.com/twbs/bootstrap/issues/12359 */
  border: none;
  /* THIS IS A BUG - https://bugs.chromium.org/p/chromium/issues/detail?id=375693 */
  display: flex;
  margin: inherit;
  flex-direction: var(--flex-direction)
}
fieldset[disabled] {}
/* THIS IS A BUG - https://bugs.chromium.org/p/chromium/issues/detail?id=375693 */
fieldset input {}
fieldset li
  { list-style: none }

legend {
  width: 100%; /* Correct the text wrapping in Edge and IE. */
  max-width: 100%
}

output
  { display: inline-block }

button, input, select, textarea {
  font-size: 100%;
  font-family: inherit;
  text-transform: none /* Remove the inheritance of text transform in Firefox */
}

input, select, textarea, button {
  /*
   * Fix rounded corners in iOS Safari https://github.com/twbs/bootstrap/issues/11586.
   * appearance
   *   - https://developer.mozilla.org/en-US/docs/Web/CSS/appearance
   *   - https://developer.mozilla.org/en-US/docs/Learn/Forms/Advanced_form_styling#appearance_controlling_OS-level_styling
   */
  margin-bottom: 1.612em;
  text-align: var(--text-align);
  -webkit-appearance: none;
  appearance: none
}

select,
input:not([type]), input[type=search], input[type=text], input[type=password],
input[type=email], input[type=tel], input[type=url], input[type=number],
input[type=date], input[type=time], input[type=datetime], input[type=datetime-local], input[type=month], input[type=week]
{ /* https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#%3Cinput%3E_types */
  width: 100%;
  opacity: 80%;
  border: none;
  font-size: 120%;
  line-height: 200%;
  border-bottom: 0.1em solid;
  -webkit-user-select: text /* enable text editing */
}
input:focus, select:focus
  { opacity: 100% }

[type=search] {
    margin: 0;
    flex: 1 50%;
    padding: 0 1em;
    background: none;
    text-align: left;
    outline-offset: -2px;
    -webkit-appearance: textfield
}
/* Remove the inner padding in Chrome and Safari on macOS. */
[type=search]::-webkit-search-decoration
 { -webkit-appearance: none }
/* Remove 'x' icon from search */
[type=search]::-webkit-search-cancel-button { }
[role=search] {
  display: flex;
  flex-wrap: wrap;
  flex-direction: row;
  background: green;
  border-bottom: 0.1em solid;
}
[role=search] label {
  background: pink;
  flex: 1 100%;
  font-size: 1em;
  text-align: left;
  height: 1em;
  line-height: 1em;
  /* vertical-align: bottom; */
}
[role=search]
  [type=search] {
    height: 2em;
    font-size: 1em;
    color: yellow;
    line-height: 2em;
    border-bottom: none;
    animation: none !important;
    border-color:  rgba(0,0,0,1);
    border-top: 1em solid rgba(0,0,0,0.001);
  }
[role=search]
  [type=search]:placeholder-shown {
    background-color: rgba(0,0,0,1);
  }

[role=search]
  input[type=submit] {
    margin: 0;
    padding: 0;
    border: none;
}
[role=search] input[type=submit] {
   height: 2em;
   font-size: 1em;
}
[role=search]
  footer {
    flex:1 100%;
    background:pink;
    text-align: right;
}

[type=number]::-webkit-inner-spin-button,
[type=number]::-webkit-outer-spin-button
  { height: auto }

::-webkit-file-upload-button {
  font: inherit;
  -webkit-appearance: button
}

/* checks, radios, & toggles */
[type=radio], [type=checkbox] {
  margin: 0;
  width: 1.0em;
  height: 1.0em;
  cursor: pointer;
  /* Set here so that Windows' High-Contrast Mode can override */
  color: currentColor;
  /* Adjusts the position of the checkboxes on the text baseline */
  vertical-align: middle;
  border: 0.05em solid GrayText;
}

[type=radio]:before, [type=checkbox]:before {
  content: ' ';
  width: 0.8em;
  height: 0.8em;
  vertical-align: top;
  transition: all 0.3s ease-in;
  transform: translate(0em, 0.02em) scale(0)
}
[type=radio]:checked:before,
[type=checkbox]:checked:before {
  transition: all 0.3s ease-in;
  transform: translate(0em, 0.02em) scale(1);
}
/* radio */
[type=radio]
  { border-radius: 0.5em }
[type=radio]:before {
  border-radius: 50%;
  background: currentColor
}
[type=radio]:checked {}
[type=radio]:checked:before {}
/* checkbox */
[type=checkbox] {}
[type=checkbox]:before
  { content: '' }
[type=checkbox]:checked {}
[type=checkbox]:checked:before {}

/* "pressed" button
 * aria-pressed - https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/button_role#Associated_ARIA_roles_states_and_properties
 * aria-label   - 
 */
[aria-pressed=true]  {}
[aria-pressed=false] {}

/* .toggle
 *   - https://inclusive-components.design/toggle-button/
 */
[type=checkbox].toggle {
  width: 2em;
  border-radius: 2em;
  transition: all 0.3s;
  background-color: GrayText;
}
[type=checkbox].toggle:checked
  { background-color: ButtonFace }
[type=checkbox].toggle:before {
  content: ' ';
  width: 1em;
  height: 1em;
  border-radius: 50%;
  transition: all 0.4s;
  background-color: ButtonFace;
  border: 0.05em solid GrayText;
  transform: translate(-0.5em, -0.05em)
}
[type=checkbox].toggle:checked {}
[type=checkbox].toggle:checked:before {
  transition: all 0.4s;
  transform: translate(0.5em, -0.05em)
}

[type=date], [type=time], [type=datetime-local], [type=month]
/* https://bugs.webkit.org/show_bug.cgi?id=139848
  and https://github.com/twbs/bootstrap/issues/11266 */
 { -webkit-appearance: listbox }

input[list] {
  /* combobox */
}

input[type=file] {
  height: 0;
  padding: 0;
  opacity: 0;
}

/* https://css-tricks.com/color-inputs-a-deep-dive-into-cross-browser-differences/ */
[type=color] {
  padding: 0;
  border: none;
  cursor: context-menu;
  outline: 0.1em solid
}
[type=color]::before {}

/* Cross browser range inputs - https://css-tricks.com/styling-cross-browser-compatible-range-inputs-css/ */
input[type=range] {
  height: 0.3em;
  cursor: ew-resize;
  background: currentColor;
}

/* Style meter & progress
 *   - https://codepen.io/matt-west/pen/bpzEy
 *   - https://css-tricks.com/html5-meter-element/
 *   - https://stackoverflow.com/questions/8094835/how-to-style-html5-meter-tag
 */
meter, progress
  { vertical-align: baseline /* Correct vertical alignment in Chrome, Firefox, & Opera. */  }
meter {}
progress {}


textarea {
  width: 100%;
  border: none;
  overflow: auto;
  resize: vertical;
  padding: 0.612em;
  border-left: 0.1em solid;
  text-align: var(--text-align)
}

select {
  /* Remove inheritance word wrap in Safari https://github.com/twbs/bootstrap/issues/24990 */
  width: 100%;
  word-wrap: normal;
  font-size: 1.612em;
  background: Canvas;
  border-radius: none;
  line-height: 1.612em;
  cursor: context-menu;
  text-align-last: var(--text-align);
  text-align: var(--text-align);
}
label select
  { width: auto }


dialog {
  left: 0;
  right: 0;
  margin: auto;
  border: solid;
  display: block;
  position: absolute;

  height: -moz-fit-content;
  height: -webkit-fit-content;
  height: fit-content;

  width: -moz-fit-content;
  width: -webkit-fit-content;
  width: fit-content
}

dialog:not([open])
  { display: none }

button, [type=button], [type=submit], [type=reset]
{
  opacity: 70%;
  cursor: pointer;
  font-size: 140%;
  font-weight: bold;
  padding: 0 1.612em;
  outline: 0.1em solid;
  margin: var(--margin);
  line-height: 1.612em;

  border-radius: 0; /* https://github.com/twbs/bootstrap/issues/24093 */
  -webkit-appearance: button;
  appearance:         button
}


button:hover, [type=button]:hover, [type=submit]:hover, [type=reset]:hover,
button:focus, [type=button]:focus, [type=submit]:focus, [type=reset]:focus
{
  opacity: 100%;
  /* transparent `button` background results in a loss of the default `button` focus styles */
  outline: 0.2em currentColor;
  outline: 0.2em auto -webkit-focus-ring-color
}

::-webkit-file-upload-button {
  font: inherit;
  -webkit-appearance: button;
  -moz-appearance:    button;
  appearance:         button
}
::-moz-file-upload-button {
  -webkit-appearance: button;
  -moz-appearance:    button;
  appearance:         button
}

:enabled {}
input:disabled, select:disabled, button:disabled {
  opacity: 30%;
  cursor: not-allowed;
}
:default
  { /* https://developer.mozilla.org/en-US/docs/Web/CSS/:default */ }
:optional
  { /* https://developer.mozilla.org/en-US/docs/Web/CSS/:optional */ }
:indeterminate
  { /* https://developer.mozilla.org/en-US/docs/Web/CSS/:indeterminate */ }
:read-only {}
input[type=text]:read-only,
input:not([type]):read-only
  { cursor: not-allowed }
:read-write {}

[required], [aria-required=true]
  { /* https://developer.mozilla.org/en-US/docs/Learn/Forms/UI_pseudo-classes#Using_generated_content_with_pseudo-classes */ }

/* Styling validation using content
 *   - https://developer.mozilla.org/en-US/docs/Learn/Forms/UI_pseudo-classes#Styling_controls_based_on_whether_their_data_is_valid
*/
:user-valid {}
:user-invalid {}

input:invalid, textarea:invalid, input:out-of-range, [aria-invalid=true] {
  color: red;
  cursor: not-allowed
}

input:valid, input:in-range, [aria-invalid=false] {}
input:invalid:before, textarea:invalid:before {
  content: '';
}
input:valid:before, textarea:valid:before {}
label input {
    position: relative;
    top: 1px;
}