/*
 * Form Input Types - https://developer.mozilla.org/en-US/docs/Learn/Forms/HTML5_input_types
 * Form Validation - https://developer.mozilla.org/en-US/docs/Learn/Forms/Form_validation
 * Web Aim Creating Accessible Forms - https://webaim.org/techniques/forms/controls
 * Styling Web Forms - https://developer.mozilla.org/en-US/docs/Learn/Forms/Styling_web_forms
 * Advanced Form Styling - https://developer.mozilla.org/en-US/docs/Learn/Forms/Advanced_form_stylin
 *
 * Web Form Usability (Top 10 Practices) - https://www.nngroup.com/articles/web-form-design
 * A Form of Madness - http://diveintohtml5.info/forms.html */

:root {
  --flex-direction: column
}

/*
  - Viewport Sizes - https://docs.adobe.com/content/help/en/target/using/experiences/vec/mobile-viewports.html
*/
@media screen and (min-width: 786px) {
  :root {
/*     --flex-direction: row */
  }
}

/* accessible placeholders & labels - https://www.nngroup.com/articles/form-design-placeholders/ */
::placeholder {} /* 4.5:1 contrast ratio for ARIA */

/* Remove tapping delay
 *   https://css-tricks.com/almanac/properties/t/touch-action/
 *   https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action
 */
a, area, button, input, label, select, summary, textarea, [tabindex] {
  -ms-touch-action: manipulation;
  touch-action:     manipulation
}


/* Form proximity effect
 *   - https://www.nngroup.com/articles/form-design-white-space/?lm=form-design-placeholders&pt=article */
form, fieldset /* children positioning */
  { position: relative }
form {
  display: flex;
  max-width: var(--max-width);
  flex-direction: var(--flex-direction);
  caret-color: currentcolor; /* https://developer.mozilla.org/en-US/docs/Web/CSS/caret-color */
}
form:focus-within {}

form
  fieldset:focus-within {}

fieldset {
  min-width: 0; /* See https://github.com/twbs/bootstrap/issues/12359 */
  border: none;
  /* THIS IS A BUG - https://bugs.chromium.org/p/chromium/issues/detail?id=375693 */
  display: flex;
  margin: inherit;
  flex-direction: var(--flex-direction)
}
fieldset[disabled] {}
/* THIS IS A BUG - https://bugs.chromium.org/p/chromium/issues/detail?id=375693 */
fieldset input {}
fieldset li
  { list-style: none }

legend {
  width: 100%; /* Correct the text wrapping in Edge and IE. */
  max-width: 100%
}

:not(li) > label {
  width: 100%;
  cursor: pointer;
  font-weight: bolder;
  display: inline-block;
  font-size:  var(--larger)
  text-align: var(--text-align);
}

:placeholder-shown {
  text-overflow: ellipsis;
}

output
  { display: inline-block }

button, input, select, textarea {
  font: inherit;
  overflow: visible; /* Show the overflow in IE / Edge */
  line-height: inherit;
  font-family: inherit;
  letter-spacing: inherit;
  text-align: var(--text-align);
  /* Remove the inheritance of text transform in Firefox */
  text-transform: none;
  /*
   * Fix rounded corners in iOS Safari https://github.com/twbs/bootstrap/issues/11586.
   * appearance
   *   - https://developer.mozilla.org/en-US/docs/Web/CSS/appearance
   *   - https://developer.mozilla.org/en-US/docs/Learn/Forms/Advanced_form_styling#appearance_controlling_OS-level_styling
   */
  -webkit-appearance: none;
  appearance: none;
}

select, textarea,
input:not([type]), input[type=text], input[type=search], input[type=password],
input[type=email], input[type=tel], input[type=url], input[type=number], input[type=range],
input[type=date], input[type=time], input[type=datetime], input[type=datetime-local], input[type=month], input[type=week]
{ /* https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#%3Cinput%3E_types */
  width: 100%;
  opacity: .7;
  border: none;
  padding: 0 1em;
  line-height: 200%;
  white-space: nowrap;
  margin-bottom: 1.618em;
  font-size: var(--larger);
  background: transparent;
  border-left:   0.1em solid;
  border-bottom: 0.1em solid;
  -webkit-user-select: text /* enable text editing */;
          user-select: text /* https://developer.mozilla.org/en-US/docs/Web/CSS/user-select */
}
input:focus, select:focus, textarea
  { opacity: 1.0 }

[type=search] {
    margin: 0;
    flex: 1 50%;
    padding: 0 1em;
    background: none;
    text-align: left;
    outline-offset: -2px;
    -webkit-appearance: textfield
}
/* Remove the inner padding in Chrome and Safari on macOS. */
[type=search]::-webkit-search-decoration
 { -webkit-appearance: none }
/* Remove 'x' icon from search */
[type=search]::-webkit-search-cancel-button { }
[role=search] {
  display: flex;
  flex-wrap: wrap;
  flex-direction: row;
  background: green;
  border-bottom: 0.1em solid;
}
[role=search] label {
  background: pink;
  flex: 1 100%;
  font-size: 1em;
  text-align: left;
  height: 1em;
  line-height: 1em;
  /* vertical-align: bottom; */
}
[role=search]
  [type=search] {
    height: 2em;
    font-size: 1em;
    line-height: 2em;
    border-bottom: none;
    animation: none !important;
    border-top: 1em solid rgba(0,0,0,0.001);
  }
[role=search]
  [type=search]:placeholder-shown {
  }

[role=search]
  input[type=submit] {
    margin: 0;
    padding: 0;
    border: none;
}
[role=search] input[type=submit] {
   height: 2em;
   font-size: 1em;
}
[role=search]
  footer {
    flex:1 100%;
    background:pink;
    text-align: right;
}

[type=number]::-webkit-inner-spin-button,
[type=number]::-webkit-outer-spin-button
  { height: auto }

/*
 * - http://danielstern.ca/range.css
 * - Cross browser range inputs - https://css-tricks.com/styling-cross-browser-compatible-range-inputs-css/
*/
input[type=range] {
  border: none;
  height: 0.618em;
  padding: 0.618em;
  cursor: ew-resize;
  box-shadow: inset 0 0 0.0618em;
  border-radius: 0.618em;
}
[type=range]::-webkit-slider-thumb {
//  -webkit-appearance: none;
//  appearance: none;
}
[type=range]::-ms-track {}

::-webkit-file-upload-button {
  font: inherit;
  -webkit-appearance: button
}


/* checksboxes & radios */
[type=checkbox], [type=radio] {
  margin: 0;
  width: 1.0em;
  height: 1.0em;
  cursor: pointer;
  /* Adjusts the position of the checkboxes on the text baseline */
  vertical-align: middle;
  border: 0.05em solid GrayText;
  -webkit-appearance: revert;
  appearance: revert;
}

[type=radio]:before, [type=checkbox]:before {
  content: ' ';
  width: 0.8em;
  height: 0.8em;
  vertical-align: top;
  transition: all 0.3s ease-in;
  transform: translate(0em, 0.02em) scale(0)
}
[type=radio]:checked:before,
[type=checkbox]:checked:before {
  transition: all 0.3s ease-in;
  transform: translate(0em, 0.02em) scale(1);
}
/* radio */
[type=radio]
  { border-radius: 0.5em }
[type=radio]:before {
  border-radius: 50%;
}
[type=radio]:checked {}
[type=radio]:checked:before {}
/* checkbox */
[type=checkbox] {}
[type=checkbox]:before
  { content: '' }
[type=checkbox]:checked {}
[type=checkbox]:checked:before {}

/* "pressed" button
 * aria-pressed - https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/button_role#Associated_ARIA_roles_states_and_properties
 * aria-label   - 
 */
[aria-pressed=true]  {}
[aria-pressed=false] {}


/* CSS TOGGLES [role=switch] https://tabatkins.github.io/css-toggle/
  - WHAT ARE CSS TOGGLES - https://toggles.oddbird.net/
  - Explainer proposal - https://css.oddbird.net/toggles/explainer/
  - *** https://blog.logrocket.com/advanced-guide-css-toggle-pseudo-class/
  - https://www.lambdatest.com/blog/top-20-css-toggle-switches-with-examples/
  - PROPOSAL - https://github.com/w3c/csswg-drafts/issues/6991
  - https://www.bram.us/2022/04/20/the-future-of-css-css-toggles/
  - https://github.com/whatwg/html/issues/5625
  - https://inclusive-components.design/toggle-button/
  - https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/Switch_role
  - https://developer.apple.com/design/human-interface-guidelines/ios/controls/switches/
 */
[type=checkbox].toggle {
  width: 2em;
  border-radius: 2em;
  transition: all 0.3s;
  background: GrayText;
}
[type=checkbox].toggle:checked
  { background: ButtonFace }
[type=checkbox].toggle:before {
  content: ' ';
  width: 1em;
  height: 1em;
  border-radius: 50%;
  transition: all 0.4s;
  background: ButtonFace;
  border: 0.05em solid GrayText;
  transform: translate(-0.5em, -0.05em)
}
[type=checkbox].toggle:checked {}
[type=checkbox].toggle:checked:before {
  transition: all 0.4s;
  transform: translate(0.5em, -0.05em)
}

[type=date], [type=time], [type=datetime-local], [type=month]
/* https://bugs.webkit.org/show_bug.cgi?id=139848
  and https://github.com/twbs/bootstrap/issues/11266 */
 { -webkit-appearance: listbox }

input[list] {
  /* combobox */
}

input[type=file] {
  height: 0;
  padding: 0;
  opacity: 0;
}

/* https://css-tricks.com/color-inputs-a-deep-dive-into-cross-browser-differences/ */
[type=color] {
  padding: 0;
  border: none;
  background: Canvas;
  cursor: context-menu;
  outline: 0.1em solid
}
[type=color]::before {}

textarea {
  width: 100%;
  border: none;
  overflow: auto; /* Remove IE vertical scrollbar. */
  resize: vertical;
  padding: 0.612em;
  border-left: 0.1em solid;
  text-align: var(--text-align)
}

select, label select {
  /* Remove inheritance word wrap in Safari https://github.com/twbs/bootstrap/issues/24990 */
  word-wrap: normal;
  cursor: context-menu;
  border-radius: 0.5em;
  text-overflow: ellipsis;
  text-align: var(--text-align);
  text-align-last: var(--text-align);
  outline: 0.01em solid;
}
select, label select {
  border: none;
  line-height: 200%;
  font-weight: normal;
}
select[multiple] {
  padding: 0;
  overflow: scroll;
}

select:not([multiple]) {
  background: /* https://css-tricks.com/styling-a-select-like-its-2019/*/
    url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E') right .6em top 50% / .65em auto no-repeat ButtonFace;
}

select[multiple] optgroup {
  margin-top: 0.618em;
}
select[multiple] optgroup, select[multiple] optgroup :first-child {
border-top: 0.0618em solid ButtonText;
}
select[multiple] optgroup option {}


dialog {
  left: 0;
  right: 0;
  margin: auto;
  border: solid;
  display: block;
  position: absolute;

  height: -moz-fit-content;
  height: -webkit-fit-content;
  height: fit-content;

  width: -moz-fit-content;
  width: -webkit-fit-content;
  width: fit-content
}

dialog:not([open])
  { display: none }

button, [type=button], [type=submit], [type=reset], [role=button]
{
  opacity: 70%;
  cursor: pointer;
  font-size: 140%;
  font-weight: bold;
  width: max-content;
  padding: 0 1.612em;
  margin: var(--margin);
  line-height: 1.612em;
  border-radius: 0; /* https://github.com/twbs/bootstrap/issues/24093 */
  color: currentColor;
  background: transparent;
  -webkit-appearance: button;
  appearance:         button;
  border: 0.0168em solid currentColor;
  box-shadow: var(--box-shadow);
}


button:hover, [type=button]:hover, [type=submit]:hover, [type=reset]:hover, [role=button]:hover,
button:focus, [type=button]:focus, [type=submit]:focus, [type=reset]:focus, [role=button]:focus
  { opacity: 100% }
button:focus, [type=button]:focus, [type=submit]:focus, [type=reset]:focus, [role=button]:focus {
  /* transparent `button` background results in a loss of the default `button` focus styles */
  outline: 0.168em dotted currentColor;
  outline: 0.168em dotted auto -webkit-focus-ring-color
}

::-webkit-file-upload-button {
  font: inherit;
  -webkit-appearance: button;
  appearance:         button
}
::-moz-file-upload-button {
  -webkit-appearance: button;
  appearance:         button
}


/* input Pseudo-classes - https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#ui_pseudo-classes */

:enabled {}
input:disabled, select:disabled, option:disabled, button:disabled, [aria-enabled=false],
input:disabled:hover, select:disabled:hover, option:disabled:hover, button:disabled:hover, [aria-enabled=false]:hover
 {
  opacity: 30%;
  cursor: not-allowed;
  text-decoration: line-through;
}
:default
  { /* https://developer.mozilla.org/en-US/docs/Web/CSS/:default */ }
:optional
  { /* https://developer.mozilla.org/en-US/docs/Web/CSS/:optional */ }
:indeterminate
  { /* https://developer.mozilla.org/en-US/docs/Web/CSS/:indeterminate */ }
:blank /* https://github.com/w3c/csswg-drafts/issues/1967*/
  { /* https://developer.mozilla.org/en-US/docs/Web/CSS/:blank */ }
:empty
  { /* https://developer.mozilla.org/en-US/docs/Web/CSS/:empty */ }

:read-only {}
input[type=text]:read-only,
input:not([type]):read-only
  { cursor: not-allowed }
:read-write {}

[required], [aria-required=true] {
  /* https://developer.mozilla.org/en-US/docs/Learn/Forms/UI_pseudo-classes#Using_generated_content_with_pseudo-classes */

  opacity: 1.0;
}

/* Styling validation using content
 *   - https://developer.mozilla.org/en-US/docs/Learn/Forms/UI_pseudo-classes#Styling_controls_based_on_whether_their_data_is_valid
*/
:user-valid { /* https://caniuse.com/mdn-css_selectors_user-valid */ }
:user-invalid { /* https://caniuse.com/mdn-css_selectors_user-invalid */ }

input:invalid:not(:placeholder-shown), textarea:invalid:not(:placeholder-shown), input:out-of-range:not(:placeholder-shown), select:invalid:not(:placeholder-shown), [aria-invalid=true]:not(:placeholder-shown) {
  accent-color: ActiveText;
  color:        ActiveText;
  cursor:       not-allowed;
}

input:valid::before, input:in-range::before,
select:valid::before, textarea:invalid::before,, [aria-invalid=false]::before {
  content: ' ';
}
input:invalid::before, input:out-of-in-range::before,
select:invalid::before, textarea:invalid::before, [aria-invalid=false]::before {
  content: '✖';
}

label input {
  top: 1px;
  position: relative;
}